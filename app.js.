// App.js - ìƒí™œì ˆê¸° ë†ì—…ì•± ë©”ì¸ ì•± íŒŒì¼
import React, { useState, useEffect } from 'react';
import {
  View,
  Text,
  ScrollView,
  StyleSheet,
  TouchableOpacity,
  Alert,
  StatusBar,
  SafeAreaView,
} from 'react-native';

// ê°€ìƒì˜ ë°ì´í„° (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì˜´)
const mockData = {
  user: { name: 'ê¹€ë†ë¶€', region: 'ê²½ê¸°ë„' },
  currentSeason: {
    traditional: { name: 'ì²˜ì„œ', date: '8/23' },
    living: { name: 'ìƒí™œì²˜ì„œ', adjustment: '+3ì¼' },
    nextSeason: { name: 'ë°±ë¡œ', daysLeft: 15 }
  },
  weather: {
    temperature: 28,
    humidity: 72,
    risk: 'ë³´í†µ',
    recommendation: 'ì˜¤í›„ ê´€ìˆ˜ ê¶Œì¥'
  },
  todayTasks: [
    { id: 1, title: 'ë°°ì¶” ì •ì‹ ì¤€ë¹„', status: 'D-2', priority: 'high' },
    { id: 2, title: 'ë²¼ ì¶œìˆ˜ê¸° ê´€ì°°', status: 'ì§„í–‰ì¤‘', priority: 'medium' },
    { id: 3, title: 'ìŠ¤ë§ˆíŠ¸íŒœ ì„¼ì„œ ì ê²€', status: 'ì˜ˆì •', priority: 'low' }
  ],
  smartFarm: {
    soilTemp: 24.5,
    soilMoisture: 68,
    status: 'ì •ìƒ'
  }
};

export default function App() {
  const [activeTab, setActiveTab] = useState('home');
  const [data, setData] = useState(mockData);

  // ì•± ì‹œì‘ì‹œ ë°ì´í„° ë¡œë“œ
  useEffect(() => {
    loadAppData();
  }, []);

  const loadAppData = async () => {
    try {
      // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ
      // const response = await fetch('/api/seasons/current');
      // const data = await response.json();
      console.log('ì•± ë°ì´í„° ë¡œë“œ ì™„ë£Œ');
    } catch (error) {
      console.error('ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
    }
  };

  const handleTaskPress = (task) => {
    Alert.alert(
      'ì‘ì—… ìƒì„¸',
      `${task.title}\nìƒíƒœ: ${task.status}`,
      [
        { text: 'ì·¨ì†Œ', style: 'cancel' },
        { text: 'ì™„ë£Œ ì²˜ë¦¬', onPress: () => completeTask(task.id) }
      ]
    );
  };

  const completeTask = (taskId) => {
    Alert.alert('ì™„ë£Œ!', 'ì‘ì—…ì´ ì™„ë£Œë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
  };

  // í™ˆ í™”ë©´
  const renderHomeScreen = () => (
    <ScrollView style={styles.container}>
      {/* ì¸ì‚¬ë§ í—¤ë” */}
      <View style={styles.header}>
        <Text style={styles.greeting}>ì•ˆë…•í•˜ì„¸ìš”, {data.user.name}ë‹˜! ğŸŒ¾</Text>
        <Text style={styles.subGreeting}>ì˜¤ëŠ˜ë„ ì¢‹ì€ ë†ì‚¬ì¼ ë˜ì„¸ìš”</Text>
      </View>

      {/* í˜„ì¬ ì ˆê¸° ì¹´ë“œ */}
      <View style={styles.card}>
        <Text style={styles.cardTitle}>ğŸ“… í˜„ì¬ ì ˆê¸°</Text>
        <View style={styles.seasonInfo}>
          <View style={styles.seasonLeft}>
            <Text style={styles.seasonName}>{data.currentSeason.traditional.name}</Text>
            <Text style={styles.seasonDate}>({data.currentSeason.traditional.date})</Text>
            <View style={styles.badge}>
              <Text style={styles.badgeText}>
                ìƒí™œì ˆê¸°: {data.currentSeason.living.name} {data.currentSeason.living.adjustment}
              </Text>
            </View>
          </View>
          <View style={styles.seasonRight}>
            <Text style={styles.countdown}>{data.currentSeason.nextSeason.daysLeft}</Text>
            <Text style={styles.countdownLabel}>ì¼ í›„</Text>
            <Text style={styles.nextS
